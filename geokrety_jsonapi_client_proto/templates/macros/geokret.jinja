
{% import 'macros/user.jinja' as macro_user %}

{% macro geokret(geokret) %}
  <div class="panel panel-default">
    <div class="panel-heading">
      <div class="panel-title pull-left">
        <h3 class="panel-title">{{link_to(geokret)}} - {{geokret.type_.name}} - {{macro_user.link_to(geokret.owner)}}</h3>
      </div>
      <div class="panel-title pull-right">
        <span class="badge">caches {{geokret.caches_count}}</span>
        <span class="badge">pictures {{geokret.pictures_count}}</span>
        <span class="badge">distance {{geokret.distance}} km</span>
      </div>
      <div class="clearfix"></div>
    </div>
    <div class="panel-body">
      <dl>
          <dt>Tracking Code:</dt><dd>{{geokret.tracking_code}}</dd>
          <dt>Created on datetime:</dt><dd>{{geokret.created_on_datetime}}</dd>
          <dt>Description:</dt><dd>{{geokret.description}}</dd>
          <dt>Holder:</dt><dd>{{macro_user.link_to(geokret.holder)}}</dd>
      </dl>
    </div>
  </div>
{% endmacro %}


{% macro link_to(geokret, text=None) %}
  {% if text %}
    {{text}}
  {% else %}
    <a href="{{url_for('geokret', geokret_id=geokret.id)}}">
      {{geokret.name}}
    </a>
  {% endif %}
{% endmacro %}
